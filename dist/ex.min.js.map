{"version":3,"sources":["_version.ts","polyfill/Array_isArray.ts","enumerable.ts","polyfill/Enumerable_iterator.ts","apply.ts","ex.js","array.ts","concat.ts","distinct.ts","except.ts","fromJson.ts","groupBy.ts","intersect.ts","join.ts","list.ts","map.ts","orderBy.ts","range.ts","reverse.ts","round.ts","select.ts","selector.ts","skip.ts","take.ts","traverse.ts","union.ts","where.ts","wrap.ts","zip.ts"],"names":["exjs","Object","prototype","toString","call","arg","exjs.Enumerable","exjs.Enumerable.getEnumerator","exjs.Enumerable.aggregate","exjs.Enumerable.all","exjs.Enumerable.any","exjs.Enumerable.apply","exjs.Enumerable.at","exjs.Enumerable.average","t","Error","exjs.Enumerable.concat","exjs.Enumerable.count","exjs.Enumerable.difference","f2","s2","exjs.Enumerable.distinct","exjs.Enumerable.except","exjs.Enumerable.first","exjs.Enumerable.firstIndex","exjs.Enumerable.forEach","exjs.Enumerable.groupBy","exjs.Enumerable.intersect","exjs.Enumerable.join","exjs.Enumerable.last","exjs.Enumerable.lastIndex","exjs.Enumerable.max","exjs.Enumerable.min","exjs.Enumerable.orderBy","exjs.Enumerable.orderByDescending","exjs.Enumerable.reverse","exjs.Enumerable.select","exjs.Enumerable.selectMany","exjs.Enumerable.skip","exjs.Enumerable.skipWhile","exjs.Enumerable.standardDeviation","exjs.Enumerable.sum","exjs.Enumerable.take","exjs.Enumerable.takeWhile","exjs.Enumerable.traverse","exjs.Enumerable.traverseUnique","exjs.Enumerable.toArray","exjs.Enumerable.toMap","exjs.Enumerable.toList","exjs.Enumerable.union","exjs.Enumerable.where","exjs.Enumerable.zip","Symbol","exjs.iteratorFromEnumerable","exjs.iteratorFromEnumerable.next","iteratorFromEnumerable","this","exjs.applyEnumerator","prev","getEnumerator","moveNext","action","e","current","i","_this","Enumerable","applyEnumerator","__extends","d","b","__","constructor","p","hasOwnProperty","exjs.arrayEnumerator","index","len","undefined","arr","exjs.en","exjs.ArrayEnumerable","exjs.ArrayEnumerable.constructor","arrayEnumerator","slice","exjs.concatEnumerator","s","second","en","Array","concatEnumerator","exjs.distinctEnumerator","comparer","visited","indexOf","push","length","hit","distinctEnumerator","exjs.exceptEnumerator","f","x","exceptEnumerator","Function","fromJson","o","mappingOverrides","mapSubProperty","j","mapping","rv","mapped","key","$jsonMappings","exjs.groupByEnumerator","grps","createGroups","keySelector","exjs.createGroups","k1","k2","exjs.Group","exjs.Group.constructor","exjs.Group._add","groupByEnumerator","exjs.intersectEnumerator","distinct","intersectEnumerator","exjs.joinEnumerator","ins","inner","toArray","cur","outerKeySelector","innerKeySelector","resultSelector","joinEnumerator","exjs.___","l","List","enumerator","exjs.List","exjs.List.constructor","exjs.List.toString","exjs.List.toLocaleString","exjs.List.pop","exjs.List.push","exjs.List.shift","exjs.List.slice","exjs.List.sort","exjs.List.splice","exjs.List.unshift","exjs.List.indexOf","exjs.List.lastIndexOf","exjs.List.every","exjs.List.some","exjs.List.forEach","exjs.List.map","exjs.List.filter","exjs.List.reduce","exjs.List.reduceRight","exjs.List.remove","exjs.List.removeWhere","list","removeWhere","item","any","removed","predicate","splice","reverse","exjs.Map","exjs.Map.constructor","get","exjs.Map.size","enumerable","configurable","exjs.Map.clear","exjs.Map.delete","exjs.Map.entries","exjs.Map.forEach","exjs.Map.get","exjs.Map.has","exjs.Map.keys","exjs.Map.set","exjs.Map.values","exjs.orderByEnumerable","exjs.OrderedEnumerable","exjs.OrderedEnumerable.constructor","exjs.OrderedEnumerable.getEnumerator","source","sort","sorter","exjs.OrderedEnumerable.thenBy","exjs.OrderedEnumerable.thenByDescending","exjs.ThenEnumerable","exjs.ThenEnumerable.constructor","orderByEnumerable","exjs.rangeEnumerator","increment","end","exjs.range","exjs.reverseEnumerator","a","reverseEnumerator","exjs.round","exjs.selectEnumerator","selector","exjs.selectManyEnumerator","active","selectorEnumerator","selectEnumerator","selectManyEnumerator","exjs.selectorEnumerator","exjs.skipEnumerator","count","exjs.skipWhileEnumerator","skipEnumerator","skipWhileEnumerator","exjs.takeEnumerator","exjs.takeWhileEnumerator","takeEnumerator","takeWhileEnumerator","exjs.traverseEnumerator","exjs.traverseEnumerator.moveNext","exjs.traverseUniqueEnumerator","exjs.traverseUniqueEnumerator.moveNext","traverseEnumerator","existing","matcher","traverseUniqueEnumerator","some","exjs.unionEnumerator","unionEnumerator","exjs.whereEnumerator","c","filter","whereEnumerator","wrapEnumerator","enu","exjs.wrapEnumerator","wrapped","ex","exjs.zipEnumerator","zipEnumerator"],"mappings":"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","file":"ex.min.js","sourcesContent":["module exjs {\r\n    export var version = '0.2.15';\r\n}",null,"module exjs {\r\n    export interface IProjectionFunc<T, TResult> {\r\n        (t: T): TResult;\r\n    }\r\n    export interface IProjectionIndexFunc<T, TResult> {\r\n        (t: T, index: number): TResult;\r\n    }\r\n    export interface IEnumerable<T> {\r\n        getEnumerator(): IEnumerator<T>;\r\n    }\r\n    export interface IEnumerableEx<T> extends IEnumerable<T> {\r\n        aggregate<TAccumulate>(seed: TAccumulate, accumulator: (acc: TAccumulate, cur: T) => TAccumulate): TAccumulate;\r\n        all(predicate: IProjectionFunc<T, boolean>): boolean;\r\n        all(predicate: IProjectionIndexFunc<T, boolean>): boolean;\r\n        any(predicate?: IProjectionFunc<T, boolean>): boolean;\r\n        any(predicate?: IProjectionIndexFunc<T, boolean>): boolean;\r\n        apply<T>(action: IProjectionFunc<T, any>): IEnumerableEx<T>;\r\n        apply<T>(action: IProjectionIndexFunc<T, any>): IEnumerableEx<T>;\r\n        at(index: number): T;\r\n        average(selector?: (t: T) => number): number;\r\n        concat(second: IEnumerable<T>): IEnumerableEx<T>;\r\n        concat(second: T[]): IEnumerableEx<T>;\r\n        count(predicate?: (t: T) => boolean): number;\r\n        difference(second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IDifference<T>;\r\n        difference(second: T[], comparer?: (f: T, s: T) => boolean): IDifference<T>;\r\n        distinct(comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        except(second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        except(second: T[], comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        first(match?: (t: T) => boolean): T;\r\n        firstIndex(match?: (t: T) => boolean): number;\r\n        forEach (action: (t: T) => any);\r\n        groupBy<TKey>(keySelector: (t: T) => TKey, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<IGrouping<TKey, T>>;\r\n        intersect(second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        intersect(second: T[], comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        join<TInner, TKey, TResult>(inner: IEnumerable<TInner>, outerKeySelector: (t: T) => TKey, innerKeySelector: (t: TInner) => TKey, resultSelector: (o: T, i: TInner) => TResult, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<TResult>;\r\n        join<TInner, TKey, TResult>(inner: TInner[], outerKeySelector: (t: T) => TKey, innerKeySelector: (t: TInner) => TKey, resultSelector: (o: T, i: TInner) => TResult, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<TResult>;\r\n        last(match?: (t: T) => boolean): T;\r\n        lastIndex(match?: (t: T) => boolean): number;\r\n        max(selector?: (t: T) => number): number;\r\n        min(selector?: (t: T) => number): number;\r\n        orderBy<TKey>(keySelector: (t: T) => TKey, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T>;\r\n        orderByDescending<TKey>(keySelector: (t: T) => TKey, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T>;\r\n        reverse(): IEnumerableEx<T>;\r\n        select<TResult>(selector: IProjectionFunc<T, TResult>): IEnumerableEx<TResult>;\r\n        select<TResult>(selector: IProjectionIndexFunc<T, TResult>): IEnumerableEx<TResult>;\r\n        selectMany<TResult>(selector: (t: T) => IEnumerable<TResult>): IEnumerableEx<TResult>;\r\n        selectMany<TResult>(selector: (t: T) => TResult[]): IEnumerableEx<TResult>;\r\n        skip(count: number): IEnumerableEx<T>;\r\n        skipWhile(predicate: IProjectionFunc<T, boolean>): IEnumerableEx<T>;\r\n        skipWhile(predicate: IProjectionIndexFunc<T, boolean>): IEnumerableEx<T>;\r\n        standardDeviation(selector?: (t: T) => number): number;\r\n        sum(selector?: (t: T) => number): number;\r\n        take(count: number): IEnumerableEx<T>;\r\n        takeWhile(predicate: IProjectionFunc<T, boolean>): IEnumerableEx<T>;\r\n        takeWhile(predicate: IProjectionIndexFunc<T, boolean>): IEnumerableEx<T>;\r\n        toArray(): T[];\r\n        toList(): IList<T>;\r\n        toMap<TKey, TValue>(keySelector: (t: T) => TKey, valueSelector: (t: T) => TValue): IMap<TKey, TValue>;\r\n        //toDictionary();\r\n        traverse (selector: (t: T) => T[]): IEnumerableEx<T>;\r\n        traverse (selector: (t: T) => IEnumerable<T>): IEnumerableEx<T>;\r\n        traverseUnique (selector: (t: T) => T[], matcher?: (t1: T, t2: T) => boolean): IEnumerableEx<T>;\r\n        traverseUnique (selector: (t: T) => IEnumerable<T>, matcher?: (t1: T, t2: T) => boolean): IEnumerableEx<T>;\r\n        union(second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        union(second: T[], comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        where(filter: (t: T) => boolean): IEnumerableEx<T>;\r\n        zip<TSecond, TResult>(second: IEnumerable<TSecond>, resultSelector: (f: T, s: TSecond) => TResult): IEnumerableEx<TResult>;\r\n        zip<TSecond, TResult>(second: TSecond[], resultSelector: (f: T, s: TSecond) => TResult): IEnumerableEx<TResult>;\r\n    }\r\n    export interface IEnumerator<T> {\r\n        current: T;\r\n        moveNext(): boolean;\r\n    }\r\n\r\n    export interface IOrderedEnumerable<T> extends IEnumerableEx<T> {\r\n        thenBy<TKey>(keySelector: (t: T) => TKey, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T>;\r\n        thenByDescending<TKey>(keySelector: (t: T) => TKey, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T>;\r\n    }\r\n\r\n    export interface IGrouping<TKey, TElement> extends IEnumerableEx<TElement> {\r\n        key: TKey;\r\n    }\r\n\r\n    export interface IDifference<T> {\r\n        intersection: IEnumerableEx<T>;\r\n        aNotB: IEnumerableEx<T>;\r\n        bNotA: IEnumerableEx<T>;\r\n    }\r\n\r\n    export interface IList<T> extends IEnumerableEx<T> {\r\n        //Array<T> methods\r\n        toString(): string;\r\n        toLocaleString(): string;\r\n        pop(): T;\r\n        push(...items: T[]): number;\r\n        shift(): T;\r\n        slice(start: number, end?: number): T[];\r\n        sort(compareFn?: (a: T, b: T) => number): T[];\r\n        splice(start: number): T[];\r\n        splice(start: number, deleteCount: number, ...items: T[]): T[];\r\n        unshift(...items: T[]): number;\r\n        indexOf(searchElement: T, fromIndex?: number): number;\r\n        lastIndexOf(searchElement: T, fromIndex?: number): number;\r\n        every(callbackfn: (value: T, index: number, array: T[]) => boolean, thisArg?: any): boolean;\r\n        some(callbackfn: (value: T, index: number, array: T[]) => boolean, thisArg?: any): boolean;\r\n        forEach(callbackfn: (value: T, index: number, array: T[]) => void, thisArg?: any): void;\r\n        map<U>(callbackfn: (value: T, index: number, array: T[]) => U, thisArg?: any): U[];\r\n        filter(callbackfn: (value: T, index: number, array: T[]) => boolean, thisArg?: any): T[];\r\n        reduce(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: T[]) => T, initialValue?: T): T;\r\n        reduce<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: T[]) => U, initialValue: U): U;\r\n        reduceRight(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: T[]) => T, initialValue?: T): T;\r\n        reduceRight<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: T[]) => U, initialValue: U): U;\r\n        length: number;\r\n        [n: number]: T;\r\n\r\n        //List<T> methods\r\n        /**\r\n         * Removes item from list.\r\n         * @param item - item to remove\r\n         */\r\n        remove(item: T): boolean;\r\n        /**\r\n         * Removes items that match predicate.\r\n         * Returns items that were removed.\r\n         * @param predicate - function to match items that should be removed (index parameter is based on original list)\r\n         */\r\n        removeWhere(predicate: (t: T, index?: number) => boolean): IEnumerableEx<T>;\r\n    }\r\n\r\n    export class Enumerable<T> implements IEnumerableEx<T> {\r\n        constructor () {\r\n        }\r\n\r\n        getEnumerator (): IEnumerator<T> {\r\n            return {\r\n                moveNext: function () {\r\n                    return false;\r\n                },\r\n                current: undefined\r\n            };\r\n        }\r\n\r\n        aggregate<TAccumulate>(seed: TAccumulate, accumulator: (acc: TAccumulate, cur: T) => TAccumulate): TAccumulate {\r\n            var active = seed;\r\n            for (var enumerator = this.getEnumerator(); enumerator.moveNext();) {\r\n                active = accumulator(active, enumerator.current);\r\n            }\r\n            return active;\r\n        }\r\n\r\n        all (predicate: IProjectionIndexFunc<T, boolean>): boolean {\r\n            if (predicate) {\r\n                var e = this.getEnumerator();\r\n                var i = 0;\r\n                while (e.moveNext()) {\r\n                    if (!predicate(e.current, i))\r\n                        return false;\r\n                    i++;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n        any (predicate?: IProjectionIndexFunc<T, boolean>): boolean {\r\n            var e = this.getEnumerator();\r\n            var i = 0;\r\n            while (e.moveNext()) {\r\n                if (!predicate)\r\n                    return true;\r\n                if (predicate(e.current, i))\r\n                    return true;\r\n                i++;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        apply<T>(action: IProjectionIndexFunc<T, any>): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        at (index: number): T {\r\n            var e = this.getEnumerator();\r\n            var i = 0;\r\n            while (e.moveNext()) {\r\n                if (i === index)\r\n                    return e.current;\r\n                i++;\r\n            }\r\n            return undefined;\r\n        }\r\n\r\n        average (selector?: (t: T) => number): number {\r\n            var count = 0;\r\n            var total = 0;\r\n            selector = selector || function (t: T): number {\r\n                    if (typeof t !== \"number\") throw new Error(\"Object is not a number.\");\r\n                    return <number><any>t;\r\n                };\r\n            var e = this.getEnumerator();\r\n            while (e.moveNext()) {\r\n                total += selector(e.current);\r\n                count++;\r\n            }\r\n            if (count === 0) return 0;\r\n            return total / count;\r\n        }\r\n\r\n        concat (second: IEnumerable<T>): IEnumerableEx<T>;\r\n        concat (second: T[]): IEnumerableEx<T>;\r\n        concat (second: any): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        count (predicate?: (t: T) => boolean): number {\r\n            var count = 0;\r\n            var e = this.getEnumerator();\r\n            while (e.moveNext()) {\r\n                if (!predicate || predicate(e.current))\r\n                    count++;\r\n            }\r\n            return count;\r\n        }\r\n\r\n        difference (second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IDifference<T>;\r\n        difference (second: T[], comparer?: (f: T, s: T) => boolean): IDifference<T>;\r\n        difference (second: any, comparer?: (f: T, s: T) => boolean): IDifference<T> {\r\n            comparer = comparer || function (f2: T, s2: T) {\r\n                    return f2 === s2;\r\n                };\r\n            if (second instanceof Array)\r\n                second = second.en();\r\n            return {\r\n                intersection: this.intersect(second, comparer).toArray().en(),\r\n                aNotB: this.except(second, comparer).toArray().en(),\r\n                bNotA: second.except(this, comparer).toArray().en()\r\n            };\r\n        }\r\n\r\n        distinct (comparer?: (f: T, s: T) => boolean): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        except (second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        except (second: T[], comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        except (second: any, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        first (match?: (t: T) => boolean): T {\r\n            var e = this.getEnumerator();\r\n            while (e.moveNext()) {\r\n                if (!match || match(e.current))\r\n                    return e.current;\r\n            }\r\n            return undefined;\r\n        }\r\n\r\n        firstIndex (match?: (t: T) => boolean): number {\r\n            for (var e = this.getEnumerator(), i = 0; e.moveNext(); i++) {\r\n                if (!match || match(e.current))\r\n                    return i;\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        forEach (action: (t: T) => any) {\r\n            for (var en = this.getEnumerator(); en.moveNext();) {\r\n                action(en.current);\r\n            }\r\n        }\r\n\r\n        groupBy<TKey>(keySelector: (t: T) => TKey, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<IGrouping<TKey, T>> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        intersect (second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        intersect (second: T[], comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        intersect (second: any, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        join<TInner, TKey, TResult>(inner: IEnumerable<TInner>, outerKeySelector: (t: T) => TKey, innerKeySelector: (t: TInner) => TKey, resultSelector: (o: T, i: TInner) => TResult, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<TResult>;\r\n        join<TInner, TKey, TResult>(inner: TInner[], outerKeySelector: (t: T) => TKey, innerKeySelector: (t: TInner) => TKey, resultSelector: (o: T, i: TInner) => TResult, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<TResult>;\r\n        join<TInner, TKey, TResult>(inner: any, outerKeySelector: (t: T) => TKey, innerKeySelector: (t: TInner) => TKey, resultSelector: (o: T, i: TInner) => TResult, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<TResult> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        last (match?: (t: T) => boolean): T {\r\n            var e = this.getEnumerator();\r\n            var l: T;\r\n            while (e.moveNext()) {\r\n                if (!match || match(e.current))\r\n                    l = e.current;\r\n            }\r\n            return l;\r\n        }\r\n\r\n        lastIndex (match?: (t: T) => boolean): number {\r\n            var j = -1;\r\n            for (var e = this.getEnumerator(), i = 0; e.moveNext(); i++) {\r\n                if (!match || match(e.current))\r\n                    j = i;\r\n            }\r\n            return j;\r\n        }\r\n\r\n        max (selector?: (t: T) => number): number {\r\n            var e = this.getEnumerator();\r\n            if (!e.moveNext())\r\n                return 0;\r\n            selector = selector || function (t: T): number {\r\n                    if (typeof t !== \"number\") throw new Error(\"Object is not a number.\");\r\n                    return <number><any>t;\r\n                };\r\n            var max = selector(e.current);\r\n            while (e.moveNext()) {\r\n                max = Math.max(max, selector(e.current));\r\n            }\r\n            return max;\r\n        }\r\n\r\n        min (selector?: (t: T) => number): number {\r\n            var e = this.getEnumerator();\r\n            if (!e.moveNext())\r\n                return 0;\r\n            selector = selector || function (t: T): number {\r\n                    if (typeof t !== \"number\") throw new Error(\"Object is not a number.\");\r\n                    return <number><any>t;\r\n                };\r\n            var min = selector(e.current);\r\n            while (e.moveNext()) {\r\n                min = Math.min(min, selector(e.current));\r\n            }\r\n            return min;\r\n        }\r\n\r\n        orderBy<TKey>(keySelector: (t: T) => TKey, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        orderByDescending<TKey>(keySelector: (t: T) => TKey, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        reverse (): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        select<TResult>(selector: IProjectionIndexFunc<T, TResult>): IEnumerableEx<TResult> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        selectMany<TResult>(selector: (t: T) => IEnumerable<TResult>): IEnumerableEx<TResult>;\r\n        selectMany<TResult>(selector: (t: T) => TResult[]): IEnumerableEx<TResult>;\r\n        selectMany<TResult>(selector: (t: T) => any): IEnumerableEx<TResult> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        skip (count: number): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        skipWhile (predicate: IProjectionIndexFunc<T, boolean>): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        standardDeviation (selector?: (t: T) => number): number {\r\n            var avg = this.average(selector);\r\n            var sum = 0;\r\n            var count = 0;\r\n            selector = selector || function (t: T): number {\r\n                    if (typeof t !== \"number\") throw new Error(\"Object is not a number.\");\r\n                    return <number><any>t;\r\n                };\r\n            var e = this.getEnumerator();\r\n            while (e.moveNext()) {\r\n                var diff = selector(e.current) - avg;\r\n                sum += (diff * diff);\r\n                count++;\r\n            }\r\n            return Math.sqrt(sum / count);\r\n        }\r\n\r\n        sum (selector?: (t: T) => number): number {\r\n            var sum = 0;\r\n            selector = selector || function (t: T): number {\r\n                    if (typeof t !== \"number\") throw new Error(\"Object is not a number.\");\r\n                    return <number><any>t;\r\n                };\r\n            var e = this.getEnumerator();\r\n            while (e.moveNext()) {\r\n                sum += selector(e.current);\r\n            }\r\n            return sum;\r\n        }\r\n\r\n        take (count: number): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        takeWhile (predicate: IProjectionIndexFunc<T, boolean>): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        traverse (selector: (t: T) => T[]): IEnumerableEx<T>;\r\n        traverse (selector: (t: T) => IEnumerable<T>): IEnumerableEx<T>;\r\n        traverse (selector: any): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        traverseUnique (selector: (t: T) => T[], uniqueMatch?: (t1: T, t2: T) => boolean): IEnumerableEx<T>;\r\n        traverseUnique (selector: (t: T) => IEnumerable<T>, matcher?: (t1: T, t2: T) => boolean): IEnumerableEx<T>;\r\n        traverseUnique (selector: any, matcher?: (t1: T, t2: T) => boolean): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        toArray (): T[] {\r\n            var arr: T[] = [];\r\n            var enumerator = this.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                arr.push(enumerator.current);\r\n            }\r\n            return arr;\r\n        }\r\n\r\n        toMap<TKey, TValue>(keySelector: (t: T) => TKey, valueSelector: (t: T) => TValue): Map<TKey, TValue> {\r\n            var m = new Map<TKey, TValue>();\r\n            for (var en = this.getEnumerator(); en.moveNext();) {\r\n                m.set(keySelector(en.current), valueSelector(en.current));\r\n            }\r\n            return m;\r\n        }\r\n\r\n        toList (): IList<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        //toDictionary() {\r\n        //}\r\n\r\n        union (second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        union (second: T[], comparer?: (f: T, s: T) => boolean): IEnumerableEx<T>;\r\n        union (second: any, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        where (filter: (t: T) => boolean): IEnumerableEx<T> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n\r\n        zip<TSecond, TResult>(second: IEnumerable<TSecond>, resultSelector: (f: T, s: TSecond) => TResult): IEnumerableEx<TResult>;\r\n        zip<TSecond, TResult>(second: TSecond[], resultSelector: (f: T, s: TSecond) => TResult): IEnumerableEx<TResult>;\r\n        zip<TSecond, TResult>(second: any, resultSelector: (f: T, s: TSecond) => TResult): IEnumerableEx<TResult> {\r\n            throw new Error(\"Not implemented\");\r\n        }\r\n    }\r\n}",null,"/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function applyEnumerator<T>(prev: IEnumerable<T>, action: IProjectionIndexFunc<T, any>): IEnumerator<T> {\r\n        var t: IEnumerator<T>;\r\n        var i = 0;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = prev.getEnumerator();\r\n                if (!t.moveNext()) return false;\r\n                action(e.current = t.current, i);\r\n                i++;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.apply = function<T>(action: IProjectionIndexFunc<T, any>): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => applyEnumerator(<IEnumerable<T>>this, action);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.apply = Enumerable.prototype.apply;\r\n}",null,"/// <reference path=\"enumerable.ts\" />\r\n\r\ninterface Array<T> {\r\n    en(): exjs.IEnumerableEx<T>;\r\n}\r\n\r\nmodule exjs {\r\n    function arrayEnumerator<T>(arr: T[]): IEnumerator<T> {\r\n        var len = arr.length;\r\n        var e = {moveNext: undefined, current: undefined};\r\n        var index = -1;\r\n        e.moveNext = function () {\r\n            index++;\r\n            if (index >= len) {\r\n                e.current = undefined;\r\n                return false;\r\n            }\r\n            e.current = arr[index];\r\n            return true;\r\n        };\r\n        return e;\r\n    }\r\n\r\n    class ArrayEnumerable<T> extends Enumerable<T> {\r\n        constructor(arr: T[]) {\r\n            super();\r\n\r\n            this.getEnumerator = function () {\r\n                return arrayEnumerator(arr);\r\n            };\r\n            this.toArray = function () {\r\n                return arr.slice(0);\r\n            };\r\n        }\r\n    }\r\n\r\n    function en<T>(): IEnumerableEx<T> {\r\n        if (this && Array.isArray(this))\r\n            return new ArrayEnumerable<T>(this);\r\n        return new Enumerable<T>();\r\n    }\r\n\r\n    try {\r\n        Object.defineProperty(Array.prototype, \"en\", {\r\n            value: en,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false\r\n        });\r\n    } catch (e) {\r\n        //IE8 supports Object.defineProperty only for DOM objects\r\n        (<any>Array.prototype).en = en;\r\n    }\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function concatEnumerator<T>(prev:IEnumerable<T>, second:IEnumerable<T>):IEnumerator<T> {\r\n        var t:IEnumerator<T>;\r\n        var s = false;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function ():boolean {\r\n                if (!t) t = prev.getEnumerator();\r\n                e.current = undefined;\r\n                if (t.moveNext()) {\r\n                    e.current = t.current;\r\n                    return true;\r\n                }\r\n                if (s) return false;\r\n                s = true;\r\n                t = second.getEnumerator();\r\n                if (!t.moveNext())\r\n                    return false;\r\n                e.current = t.current;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.concat = function<T>(second:any):IEnumerableEx<T> {\r\n        var en:IEnumerable<T> = second instanceof Array ? second.en() : second;\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => concatEnumerator<T>(<IEnumerable<T>>this, en);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.concat = Enumerable.prototype.concat;\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function distinctEnumerator<T>(prev: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerator<T> {\r\n        var t: IEnumerator<T>;\r\n        var visited = [];\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = prev.getEnumerator();\r\n                e.current = undefined;\r\n                if (!comparer) {\r\n                    while (t.moveNext()) {\r\n                        if (visited.indexOf(t.current) < 0) {\r\n                            visited.push(e.current = t.current);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                while (t.moveNext()) {\r\n                    for (var i = 0, len = visited.length, hit = false; i < len && !hit; i++) {\r\n                        hit = !!comparer(visited[i], t.current);\r\n                    }\r\n                    if (!hit) {\r\n                        visited.push(e.current = t.current);\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.distinct = function<T>(comparer?: (f: T, s: T) => boolean): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => distinctEnumerator(<IEnumerable<T>>this, comparer);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.distinct = Enumerable.prototype.distinct;\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function exceptEnumerator<T>(prev: IEnumerable<T>, second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerator<T> {\r\n        comparer = comparer || function (f: T, s: T) {\r\n            return f === s;\r\n        };\r\n        var t: IEnumerator<T>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = prev.getEnumerator();\r\n                e.current = undefined;\r\n                while (t.moveNext()) {\r\n                    for (var hit = false, x = second.getEnumerator(); x.moveNext() && !hit;) {\r\n                        hit = comparer(t.current, x.current);\r\n                    }\r\n                    if (!hit) {\r\n                        e.current = t.current;\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.except = function<T>(second: any, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T> {\r\n        var en: IEnumerable<T> = second instanceof Array ? second.en() : second;\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => exceptEnumerator(<IEnumerable<T>>this, en, comparer);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.except = Enumerable.prototype.except;\r\n} ","interface Function {\r\n    fromJson<T>(o: any, mappingOverrides?: any): T;\r\n}\r\n\r\nFunction.prototype.fromJson = function<T>(o: any, mappingOverrides?: any): T {\r\n    var rv = new this();\r\n    if (o == null)\r\n        return rv;\r\n\r\n    var mapped: string[] = [];\r\n\r\n    for (var key in mappingOverrides) {\r\n        var j = mapSubProperty(o[key], mappingOverrides[key]);\r\n        if (j === undefined)\r\n            continue;\r\n        rv[key] = j;\r\n        mapped.push(key);\r\n    }\r\n\r\n    for (var key in this.$jsonMappings) {\r\n        if (mapped.indexOf(key) > -1)\r\n            continue;\r\n        var j = mapSubProperty(o[key], this.$jsonMappings[key]);\r\n        if (j === undefined)\r\n            continue;\r\n        rv[key] = j;\r\n        mapped.push(key);\r\n    }\r\n\r\n    for (var key in o) {\r\n        if (mapped.indexOf(key) > -1)\r\n            continue;\r\n        rv[key] = o[key];\r\n    }\r\n\r\n    return rv;\r\n\r\n    function mapSubProperty(j: any, mapping: any): any {\r\n        if (j == null)\r\n            return j;\r\n        if (mapping instanceof Function)\r\n            return mapping(j);\r\n        if (mapping instanceof Array) {\r\n            mapping = mapping[0];\r\n            if (!(mapping instanceof Function) || !(j instanceof Array))\r\n                return undefined;\r\n            var arr = [];\r\n            for (var i = 0; i < j.length; i++) {\r\n                arr.push(mapping(j[i]));\r\n            }\r\n            return arr;\r\n        }\r\n        return undefined;\r\n    }\r\n};","/// <reference path=\"enumerable.ts\" />\r\n/// <reference path=\"array.ts\" />\r\n\r\nmodule exjs {\r\n    function groupByEnumerator<T, TKey>(prev: IEnumerable<T>, keySelector: (t: T) => TKey, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerator<IGrouping<TKey, T>> {\r\n        var grps: IGrouping<TKey, T>[];\r\n        var i = 0;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!grps) grps = createGroups<TKey, T>(prev, keySelector, comparer);\r\n                e.current = undefined;\r\n                if (i >= grps.length)\r\n                    return false;\r\n                e.current = grps[i];\r\n                i++;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    function createGroups<TKey, TElement>(prev: IEnumerable<TElement>, keySelector: (t: TElement) => TKey, comparer?: (k1: TKey, k2: TKey) => boolean): IGrouping<TKey, TElement>[] {\r\n        comparer = comparer || function (k1, k2) {\r\n            return k1 === k2;\r\n        };\r\n        var grps: Group<TKey, TElement>[] = [];\r\n        var keys: TKey[] = [];\r\n\r\n        var e = prev.getEnumerator();\r\n        var key: TKey;\r\n        while (e.moveNext()) {\r\n            key = keySelector(e.current);\r\n            var index = -1;\r\n            for (var i = 0, len = keys.length; i < len; i++) {\r\n                if (comparer(key, keys[i])) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n            var grp: Group<TKey, TElement>;\r\n            if (index < 0) {\r\n                keys.push(key);\r\n                grps.push(grp = new Group<TKey, TElement>(key));\r\n            } else {\r\n                grp = grps[index];\r\n            }\r\n            grp._add(e.current);\r\n        }\r\n\r\n        return grps;\r\n    }\r\n\r\n    class Group<TKey, TElement> extends Enumerable<TElement> implements IGrouping<TKey, TElement> {\r\n        private _arr: TElement[] = [];\r\n\r\n        constructor (public key: TKey) {\r\n            super();\r\n            this.getEnumerator = () => this._arr.en().getEnumerator();\r\n        }\r\n\r\n        _add (e: TElement) {\r\n            this._arr.push(e);\r\n        }\r\n    }\r\n\r\n    Enumerable.prototype.groupBy = function<T, TKey>(keySelector: (t: T) => TKey, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<IGrouping<TKey, T>> {\r\n        var e = new Enumerable<IGrouping<TKey, T>>();\r\n        e.getEnumerator = () => groupByEnumerator<T, TKey>(<IEnumerable<T>>this, keySelector, comparer);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.groupBy = Enumerable.prototype.groupBy;\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function intersectEnumerator<T>(prev: IEnumerable<T>, second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerator<T> {\r\n        comparer = comparer || function (f: T, s: T) { return f === s; };\r\n        var t: IEnumerator<T>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = en(prev).distinct().getEnumerator();\r\n                e.current = undefined;\r\n                while (t.moveNext()) {\r\n                    for (var hit = false, x = second.getEnumerator(); x.moveNext() && !hit;) {\r\n                        hit = comparer(t.current, x.current);\r\n                    }\r\n                    if (hit) {\r\n                        e.current = t.current;\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.intersect = function<T>(second: any, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T> {\r\n        var en: IEnumerable<T> = second instanceof Array ? second.en() : second;\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => intersectEnumerator(<IEnumerable<T>>this, en, comparer);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.intersect = Enumerable.prototype.intersect;\r\n}  ","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function joinEnumerator<TOuter, TInner, TKey, TResult>(prev: IEnumerable<TOuter>, inner: IEnumerable<TInner>, outerKeySelector: (t: TOuter) => TKey, innerKeySelector: (t: TInner) => TKey, resultSelector: (tout: TOuter, tin: TInner) => TResult, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerator<TResult> {\r\n        comparer = comparer || function (k1, k2) {\r\n            return k1 === k2;\r\n        };\r\n        var s: IEnumerator<TOuter>;\r\n        var ins: TInner[];\r\n        var j = 0;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                e.current = undefined;\r\n                if (!s) {\r\n                    s = prev.getEnumerator();\r\n                    if (!s.moveNext())\r\n                        return false;\r\n                    ins = en(inner).toArray();\r\n                }\r\n\r\n                var cur: TInner;\r\n                do {\r\n                    for (; j < ins.length; j++) {\r\n                        cur = ins[j];\r\n                        if (comparer(outerKeySelector(s.current), innerKeySelector(cur))) {\r\n                            j++;\r\n                            e.current = resultSelector(s.current, cur);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    j = 0;\r\n                } while (s.moveNext());\r\n                return false;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.join = function<T,TInner,TKey,TResult>(inner: any, outerKeySelector: (t: T) => TKey, innerKeySelector: (t: TInner) => TKey, resultSelector: (o: T, i: TInner) => TResult, comparer?: (k1: TKey, k2: TKey) => boolean): IEnumerableEx<TResult> {\r\n        var en: IEnumerable<TInner> = inner instanceof Array ? inner.en() : inner;\r\n        var e = new Enumerable<TResult>();\r\n        e.getEnumerator = () => joinEnumerator<T, TInner, TKey, TResult>(<IEnumerable<T>>this, en, outerKeySelector, innerKeySelector, resultSelector, comparer);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.join = Enumerable.prototype.join;\r\n}","/// <reference path=\"enumerable.ts\" />\r\n/// <reference path=\"fromJson.ts\" />\r\n\r\nmodule exjs {\r\n    Enumerable.prototype.toList = function<T>() {\r\n        var l = new List<T>();\r\n\r\n        var enumerator = this.getEnumerator();\r\n        while (enumerator.moveNext()) {\r\n            l.push(enumerator.current);\r\n        }\r\n\r\n        return <IList<T>>l;\r\n    };\r\n\r\n    export class List<T> extends Enumerable<T> implements IList<T> {\r\n        //Array<T> methods\r\n        toString (): string { throw new Error(\"Not implemented\"); }\r\n        toLocaleString (): string { throw new Error(\"Not implemented\"); }\r\n        pop (): T { throw new Error(\"Not implemented\"); }\r\n        push (...items: T[]): number { throw new Error(\"Not implemented\"); }\r\n        shift (): T { throw new Error(\"Not implemented\"); }\r\n        slice (start: number, end?: number): T[] { throw new Error(\"Not implemented\"); }\r\n        sort (compareFn?: (a: T, b: T) => number): T[] { throw new Error(\"Not implemented\"); }\r\n\r\n        splice (start: number): T[];\r\n        splice (start: number, deleteCount: number, ...items: T[]): T[];\r\n        splice (): T[] { throw new Error(\"Not implemented\"); }\r\n\r\n        unshift (...items: T[]): number { throw new Error(\"Not implemented\"); }\r\n        indexOf (searchElement: T, fromIndex?: number): number { throw new Error(\"Not implemented\"); }\r\n        lastIndexOf (searchElement: T, fromIndex?: number): number { throw new Error(\"Not implemented\"); }\r\n        every (callbackfn: (value: T, index: number, array: T[]) => boolean, thisArg?: any): boolean { throw new Error(\"Not implemented\"); }\r\n        some (callbackfn: (value: T, index: number, array: T[]) => boolean, thisArg?: any): boolean { throw new Error(\"Not implemented\"); }\r\n        forEach (callbackfn: (value: T, index: number, array: T[]) => void, thisArg?: any): void { throw new Error(\"Not implemented\"); }\r\n        map<U>(callbackfn: (value: T, index: number, array: T[]) => U, thisArg?: any): U[] { throw new Error(\"Not implemented\"); }\r\n        filter (callbackfn: (value: T, index: number, array: T[]) => boolean, thisArg?: any): T[] { throw new Error(\"Not implemented\"); }\r\n        reduce<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: T[]) => U, initialValue: U): U { throw new Error(\"Not implemented\"); }\r\n        reduceRight<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: T[]) => U, initialValue: U): U { throw new Error(\"Not implemented\"); }\r\n        length: number;\r\n        [n: number]: T;\r\n\r\n        //List<T> methods\r\n        remove(item: T): boolean { throw new Error(\"Not implemented\"); }\r\n        removeWhere(predicate: (t: T, index?: number) => boolean): IEnumerableEx<T> { throw new Error(\"Not implemented\"); }\r\n    }\r\n\r\n    for (var p in Array) if (Array.hasOwnProperty(p)) List[p] = Array[p];\r\n    function __ () { this.constructor = List; }\r\n    __.prototype = Array.prototype;\r\n    List.prototype = new __();\r\n    for (var key in Enumerable.prototype) {\r\n        if (key === \"getEnumerator\")\r\n            continue;\r\n        List.prototype[key] = Enumerable.prototype[key];\r\n    }\r\n\r\n    List.prototype.getEnumerator = function<T>(): IEnumerator<T> {\r\n        var list = this;\r\n        var len = list.length;\r\n        var e = { moveNext: undefined, current: undefined };\r\n        var index = -1;\r\n        e.moveNext = function () {\r\n            index++;\r\n            if (index >= len) {\r\n                e.current = undefined;\r\n                return false;\r\n            }\r\n            e.current = list[index];\r\n            return true;\r\n        };\r\n        return e;\r\n    };\r\n    List.prototype.remove = function<T>(item: T): boolean {\r\n        return this.removeWhere(t => t === item).any();\r\n    };\r\n    List.prototype.removeWhere = function<T>(predicate: (t: T, index?: number) => boolean): IEnumerableEx<T> {\r\n        var removed = [];\r\n        var cur: T;\r\n        for (var i = this.length - 1; i >= 0; i--) {\r\n            cur = this[i];\r\n            if (predicate(cur, i) === true) {\r\n                this.splice(i, 1);\r\n                removed.push(cur);\r\n            }\r\n        }\r\n        return removed.en().reverse();\r\n    };\r\n}","module exjs {\r\n    export interface IMap<TKey, TValue> {\r\n        size: number;\r\n        clear();\r\n        delete(key: TKey): boolean;\r\n        entries(): IEnumerableEx<any[]>;\r\n        forEach(callbackFn: (value: TValue, key: TKey, map?: IMap<TKey, TValue>) => void, thisArg?: any);\r\n        get(key: TKey): TValue;\r\n        has(key: TKey): boolean;\r\n        keys(): IEnumerableEx<TKey>;\r\n        set(key: TKey, value: TValue): any;\r\n        values(): IEnumerableEx<TValue>;\r\n    }\r\n\r\n    export class Map<TKey, TValue> implements IMap<TKey, TValue> {\r\n        private _keys: TKey[] = [];\r\n        private _values: TValue[] = [];\r\n\r\n        get size (): number {\r\n            return this._keys.length;\r\n        }\r\n\r\n        constructor ();\r\n        constructor (enumerable: any[][]);\r\n        constructor (enumerable: IEnumerable<any[]>);\r\n        constructor (enumerable?: any) {\r\n            var enu: IEnumerable<any[]>;\r\n            if (enumerable instanceof Array) {\r\n                enu = (<Array<any[]>>enumerable).en();\r\n            } else if (enumerable && enumerable.getEnumerator instanceof Function) {\r\n                enu = <IEnumerable<any[]>>enumerable;\r\n            }\r\n\r\n            if (!enu)\r\n                return;\r\n            for (var en = enu.getEnumerator(); en && en.moveNext();) {\r\n                this.set(en.current[0], en.current[1]);\r\n            }\r\n        }\r\n\r\n        clear () {\r\n            this._keys.length = 0;\r\n            this._values.length = 0;\r\n        }\r\n\r\n        delete (key: TKey): boolean {\r\n            var index = this._keys.indexOf(key);\r\n            if (!(index > -1))\r\n                return false;\r\n            this._keys.splice(index, 1);\r\n            this._values.splice(index, 1);\r\n            return true;\r\n        }\r\n\r\n        entries (): IEnumerableEx<any[]> {\r\n            return exjs.range(0, this.size).select(i => [this._keys[i], this._values[i]]);\r\n        }\r\n\r\n        forEach (callbackFn: (value: TValue, key: TKey, map?: IMap<TKey, TValue>) => void, thisArg?: any) {\r\n            if (thisArg == null)\r\n                thisArg = this;\r\n            for (var i = 0, keys = this._keys, vals = this._values, len = keys.length; i < len; i++) {\r\n                callbackFn.call(thisArg, vals[i], keys[i], this);\r\n            }\r\n        }\r\n\r\n        get (key: TKey): TValue {\r\n            var index = this._keys.indexOf(key);\r\n            return this._values[index];\r\n        }\r\n\r\n        has (key: TKey): boolean {\r\n            return this._keys.indexOf(key) > -1;\r\n        }\r\n\r\n        keys (): IEnumerableEx<TKey> {\r\n            return this._keys.en();\r\n        }\r\n\r\n        set (key: TKey, value: TValue): any {\r\n            var index = this._keys.indexOf(key);\r\n            if (index > -1) {\r\n                this._values[index] = value;\r\n            } else {\r\n                this._keys.push(key);\r\n                this._values.push(value);\r\n            }\r\n            return undefined;\r\n        }\r\n\r\n        values (): IEnumerableEx<TValue> {\r\n            return this._values.en();\r\n        }\r\n    }\r\n    if (!(<any>window).Map)\r\n        (<any>window).Map = Map;\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function orderByEnumerable<T, TKey>(source: IEnumerable<T>, keySelector: (t: T) => TKey, isDescending: boolean, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T> {\r\n        return new OrderedEnumerable<T, TKey>(source, keySelector, isDescending, comparer);\r\n    }\r\n\r\n    class OrderedEnumerable<T, TKey> extends Enumerable<T> implements IOrderedEnumerable<T> {\r\n        Source: IEnumerable<T>;\r\n        Sorter: (a: T, b: T) => number;\r\n\r\n        constructor (source: IEnumerable<T>, keySelector: (t: T) => TKey, isDescending: boolean, keyComparer: (f: TKey, s: TKey) => number) {\r\n            super();\r\n\r\n            this.Source = source;\r\n            keyComparer = keyComparer || function (f: TKey, s: TKey) {\r\n                return f > s ? 1 : (f < s ? -1 : 0);\r\n            };\r\n            var factor = (isDescending === true) ? -1 : 1;\r\n            this.Sorter = (a, b) => factor * keyComparer(keySelector(a), keySelector(b));\r\n        }\r\n\r\n        getEnumerator (): IEnumerator<T> {\r\n            var source = this.Source;\r\n            var sorter = this.Sorter;\r\n            var arr: T[];\r\n            var i = 0;\r\n            var e = {\r\n                current: undefined,\r\n                moveNext: function (): boolean {\r\n                    if (!arr) {\r\n                        arr = en(source).toArray();\r\n                        arr.sort(sorter);\r\n                    }\r\n                    e.current = undefined;\r\n                    if (i >= arr.length)\r\n                        return false;\r\n                    e.current = arr[i];\r\n                    i++;\r\n                    return true;\r\n                }\r\n            };\r\n            return e;\r\n        }\r\n\r\n        thenBy<TInnerKey>(keySelector: (t: T) => TInnerKey, comparer?: (f: TInnerKey, s: TInnerKey) => number): IOrderedEnumerable<T> {\r\n            return new ThenEnumerable<T, TKey, TInnerKey>(this, keySelector, false, comparer);\r\n        }\r\n\r\n        thenByDescending<TInnerKey>(keySelector: (t: T) => TInnerKey, comparer?: (f: TInnerKey, s: TInnerKey) => number): IOrderedEnumerable<T> {\r\n            return new ThenEnumerable<T, TKey, TInnerKey>(this, keySelector, true, comparer);\r\n        }\r\n    }\r\n\r\n    class ThenEnumerable<T, TParentKey, TKey> extends OrderedEnumerable<T, TKey> {\r\n        constructor (source: OrderedEnumerable<T, TParentKey>, keySelector: (t: T) => TKey, isDescending: boolean, keyComparer: (f: TKey, s: TKey) => number) {\r\n            super(source, keySelector, isDescending, keyComparer);\r\n\r\n            var parentSorter = source.Sorter;\r\n            var thisSorter = this.Sorter;\r\n            this.Sorter = (a, b) => parentSorter(a, b) || thisSorter(a, b);\r\n        }\r\n    }\r\n\r\n    var fn = Enumerable.prototype;\r\n    fn.orderBy = function<T,TKey>(keySelector: (t: T) => TKey, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T> {\r\n        return orderByEnumerable(<IEnumerable<T>>this, keySelector, false, comparer);\r\n    };\r\n    fn.orderByDescending = function<T,TKey>(keySelector: (t: T) => TKey, comparer?: (f: TKey, s: TKey) => number): IOrderedEnumerable<T> {\r\n        return orderByEnumerable(<IEnumerable<T>>this, keySelector, true, comparer);\r\n    };\r\n    if (List) {\r\n        List.prototype.orderBy = Enumerable.prototype.orderBy;\r\n        List.prototype.orderByDescending = Enumerable.prototype.orderByDescending;\r\n    }\r\n} ","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function rangeEnumerator (start: number, end: number, increment: number): IEnumerator<number> {\r\n        var i = start - increment;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                i += increment;\r\n                if (i >= end)\r\n                    return false;\r\n                e.current = i;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    export function range (start: number, end: number, increment?: number): IEnumerableEx<number> {\r\n        start = start || 0;\r\n        end = end || 0;\r\n        if (start > end)\r\n            throw new Error(\"Start cannot be greater than end.\");\r\n        if (increment == null)\r\n            increment = 1;\r\n        var e = new Enumerable<number>();\r\n        e.getEnumerator = () => rangeEnumerator(start, end, increment);\r\n        return e;\r\n    }\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function reverseEnumerator<T>(prev: IEnumerable<T>): IEnumerator<T> {\r\n        var a: T[];\r\n        var i = 0;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!a) {\r\n                    a = en(prev).toArray();\r\n                    i = a.length;\r\n                }\r\n                i--;\r\n                e.current = a[i];\r\n                return i >= 0;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.reverse = function<T>(): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => reverseEnumerator(<IEnumerable<T>>this);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.reverse = Enumerable.prototype.reverse;\r\n}","module exjs {\r\n    export function round(value: number, digits?: number) {\r\n        digits = digits || 0;\r\n        if (digits === 0)\r\n            return Math.round(value);\r\n        var shift = Math.pow(10, digits);\r\n        return Math.round(value * shift) / shift;\r\n    }\r\n}","/// <reference path=\"enumerable.ts\" />\r\n/// <reference path=\"array.ts\" />\r\n\r\nmodule exjs {\r\n    function selectEnumerator<T, TResult>(prev: IEnumerable<T>, selector: IProjectionIndexFunc<T, TResult>): IEnumerator<TResult> {\r\n        var t: IEnumerator<T>;\r\n        var i = 0;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = prev.getEnumerator();\r\n                if (!t.moveNext()) return false;\r\n                e.current = selector(t.current, i);\r\n                i++;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    function selectManyEnumerator<T, TResult>(prev: IEnumerable<T>, selector: (t: T) => any): IEnumerator<TResult> {\r\n        var t: IEnumerator<T>;\r\n        var active: IEnumerator<TResult>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                e.current = undefined;\r\n                if (!t) t = prev.getEnumerator();\r\n                while (!active || !active.moveNext()) {\r\n                    if (!t.moveNext())\r\n                        return false;\r\n                    active = selectorEnumerator<T, TResult>(selector(t.current));\r\n                }\r\n                e.current = active.current;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.select = function<T,TResult>(selector: IProjectionIndexFunc<T, TResult>): IEnumerableEx<TResult> {\r\n        var e = new Enumerable<TResult>();\r\n        e.getEnumerator = () => selectEnumerator(<IEnumerable<T>>this, selector);\r\n        return e;\r\n    };\r\n    Enumerable.prototype.selectMany = function<T,TResult>(selector: (t: T) => any): IEnumerableEx<TResult> {\r\n        var e = new Enumerable<TResult>();\r\n        e.getEnumerator = () => selectManyEnumerator<T, TResult>(<IEnumerable<T>>this, selector);\r\n        return e;\r\n    };\r\n    if (List) {\r\n        List.prototype.select = Enumerable.prototype.select;\r\n        List.prototype.selectMany = Enumerable.prototype.selectMany;\r\n    }\r\n}","module exjs {\r\n    export function selectorEnumerator<T, TResult>(en: IEnumerable<T>): IEnumerator<TResult>;\r\n    export function selectorEnumerator<T, TResult>(arr: T[]): IEnumerator<TResult>;\r\n    export function selectorEnumerator<T, TResult>(obj: any) {\r\n        if (Array.isArray(obj))\r\n            return (<T[]>obj).en().getEnumerator();\r\n        if (obj != null && typeof obj.getEnumerator === \"function\")\r\n            return obj.getEnumerator();\r\n        return null;\r\n    }\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function skipEnumerator<T>(prev: IEnumerable<T>, count: number): IEnumerator<T> {\r\n        var t: IEnumerator<T>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) {\r\n                    t = prev.getEnumerator();\r\n                    for (var i = 0; i < count; i++) {\r\n                        if (!t.moveNext()) return false;\r\n                    }\r\n                }\r\n\r\n                if (!t.moveNext()) {\r\n                    e.current = undefined;\r\n                    return false;\r\n                }\r\n\r\n                e.current = t.current;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    function skipWhileEnumerator<T>(prev: IEnumerable<T>, predicate: IProjectionIndexFunc<T, boolean>): IEnumerator<T> {\r\n        var t: IEnumerator<T>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) {\r\n                    t = prev.getEnumerator();\r\n                    for (var i = 0; t.moveNext(); i++) {\r\n                        if (!predicate(e.current = t.current, i))\r\n                            return true;\r\n                    }\r\n                    e.current = undefined;\r\n                    return false;\r\n                }\r\n\r\n                if (!t.moveNext()) {\r\n                    e.current = undefined;\r\n                    return false;\r\n                }\r\n\r\n                e.current = t.current;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.skip = function<T>(count: number): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => skipEnumerator(<IEnumerable<T>>this, count);\r\n        return e;\r\n    };\r\n    Enumerable.prototype.skipWhile = function<T>(predicate: IProjectionIndexFunc<T, boolean>): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => skipWhileEnumerator(<IEnumerable<T>>this, predicate);\r\n        return e;\r\n    };\r\n    if (List) {\r\n        List.prototype.skip = Enumerable.prototype.skip;\r\n        List.prototype.skipWhile = Enumerable.prototype.skipWhile;\r\n    }\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function takeEnumerator<T>(prev: IEnumerable<T>, count: number): IEnumerator<T> {\r\n        var t: IEnumerator<T>;\r\n        var i = 0;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = prev.getEnumerator();\r\n                i++;\r\n                if (i > count)\r\n                    return false;\r\n                e.current = undefined;\r\n                if (!t.moveNext())\r\n                    return false;\r\n                e.current = t.current;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    function takeWhileEnumerator<T>(prev: IEnumerable<T>, predicate: IProjectionIndexFunc<T, boolean>): IEnumerator<T> {\r\n        var t: IEnumerator<T>;\r\n        var i = 0;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = prev.getEnumerator();\r\n\r\n                if (!t.moveNext() || !predicate(t.current, i)) {\r\n                    e.current = undefined;\r\n                    return false;\r\n                }\r\n                i++;\r\n\r\n                e.current = t.current;\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.take = function<T>(count: number): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => takeEnumerator(<IEnumerable<T>>this, count);\r\n        return e;\r\n    };\r\n    Enumerable.prototype.takeWhile = function<T>(predicate: IProjectionIndexFunc<T, boolean>): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => takeWhileEnumerator(<IEnumerable<T>>this, predicate);\r\n        return e;\r\n    };\r\n    if (List) {\r\n        List.prototype.take = Enumerable.prototype.take;\r\n        List.prototype.takeWhile = Enumerable.prototype.takeWhile;\r\n    }\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function traverseEnumerator<T>(prev: IEnumerable<T>, selector: (t: T) => IEnumerable<T>): IEnumerator<T> {\r\n        var started = false;\r\n        var enstack: IEnumerator<T>[] = [];\r\n        var t: IEnumerator<T>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext (): boolean {\r\n                if (!started) {\r\n                    t = prev.getEnumerator();\r\n                    started = true;\r\n                } else if (t == null) {\r\n                    return false;\r\n                } else {\r\n                    enstack.push(t);\r\n                    t = selectorEnumerator<T, T>(selector(e.current));\r\n                }\r\n\r\n                while (!t || !t.moveNext()) {\r\n                    if (enstack.length < 1)\r\n                        break;\r\n                    t = enstack.pop();\r\n                }\r\n\r\n                e.current = t == null ? undefined : t.current;\r\n                return e.current !== undefined;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    function traverseUniqueEnumerator<T>(prev: IEnumerable<T>, selector: (t: T)=>IEnumerable<T>, turnstile: (t: T) => boolean): IEnumerator<T> {\r\n        var started = false;\r\n        var enstack: IEnumerator<T>[] = [];\r\n        var t: IEnumerator<T>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext (): boolean {\r\n                if (!started) {\r\n                    t = prev.getEnumerator();\r\n                    started = true;\r\n                } else if (t == null) {\r\n                    return false;\r\n                } else {\r\n                    enstack.push(t);\r\n                    t = selectorEnumerator<T, T>(selector(e.current));\r\n                }\r\n\r\n                do {\r\n                    while (!t || !t.moveNext()) {\r\n                        if (enstack.length < 1)\r\n                            break;\r\n                        t = enstack.pop();\r\n                    }\r\n                    e.current = t == null ? undefined : t.current;\r\n                } while (turnstile(e.current));\r\n\r\n                return e.current !== undefined;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.traverse = function<T>(selector: any): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => traverseEnumerator(<IEnumerable<T>>this, selector);\r\n        return e;\r\n    };\r\n    Enumerable.prototype.traverseUnique = function<T>(selector: any, matcher?: (t1: T, t2: T) => boolean): IEnumerableEx<T> {\r\n        var existing: T[] = [];\r\n        var e = new Enumerable<T>();\r\n        if (matcher) {\r\n            e.getEnumerator = () => traverseUniqueEnumerator(<IEnumerable<T>>this, selector, (x: T) => {\r\n                if (existing.some(e => matcher(x, e)))\r\n                    return true;\r\n                existing.push(x);\r\n                return false;\r\n            });\r\n        } else {\r\n            e.getEnumerator = () => traverseUniqueEnumerator(<IEnumerable<T>>this, selector, (x: T) => {\r\n                if (existing.indexOf(x) > -1)\r\n                    return true;\r\n                existing.push(x);\r\n                return false;\r\n            });\r\n        }\r\n        return e;\r\n    };\r\n    if (List) {\r\n        List.prototype.traverse = Enumerable.prototype.traverse;\r\n        List.prototype.traverseUnique = Enumerable.prototype.traverseUnique;\r\n    }\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function unionEnumerator<T>(prev: IEnumerable<T>, second: IEnumerable<T>, comparer?: (f: T, s: T) => boolean): IEnumerator<T> {\r\n        comparer = comparer || function (f: T, s: T) {\r\n            return f === s;\r\n        };\r\n        var t: IEnumerator<T>;\r\n        var visited: T[] = [];\r\n        var s: IEnumerator<T>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = en(prev).distinct().getEnumerator();\r\n                e.current = undefined;\r\n                if (!s && t.moveNext()) {\r\n                    visited.push(e.current = t.current);\r\n                    return true;\r\n                }\r\n                s = s || en(second).distinct().getEnumerator();\r\n                while (s.moveNext()) {\r\n                    for (var i = 0, hit = false, len = visited.length; i < len && !hit; i++) {\r\n                        hit = comparer(visited[i], s.current);\r\n                    }\r\n                    if (!hit) {\r\n                        e.current = s.current;\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.union = function<T>(second: any, comparer?: (f: T, s: T) => boolean): IEnumerableEx<T> {\r\n        var en:IEnumerable<T> = second instanceof Array ? second.en() : second;\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => unionEnumerator(<IEnumerable<T>>this, en, comparer);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.union = Enumerable.prototype.union;\r\n}","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function whereEnumerator<T>(prev: IEnumerable<T>, filter: (t: T) => boolean): IEnumerator<T> {\r\n        var t: IEnumerator<T>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!t) t = prev.getEnumerator();\r\n                var c: T;\r\n                while (t.moveNext()) {\r\n                    if (filter(c = t.current)) {\r\n                        e.current = c;\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.where = function<T>(filter: (t: T) => boolean): IEnumerableEx<T> {\r\n        var e = new Enumerable<T>();\r\n        e.getEnumerator = () => whereEnumerator(<IEnumerable<T>>this, filter);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.where = Enumerable.prototype.where;\r\n}","module exjs {\r\n    export function en<T>(enu: IEnumerable<T>): IEnumerableEx<T> {\r\n        var x = new Enumerable<T>();\r\n        x.getEnumerator = function (): IEnumerator<T> {\r\n            return wrapEnumerator<T>(enu);\r\n        };\r\n        return <IEnumerableEx<T>>x;\r\n    }\r\n\r\n    function wrapEnumerator<T>(enu: IEnumerable<T>): IEnumerator<T> {\r\n        var wrapped = enu.getEnumerator();\r\n        var x = <IEnumerator<T>>{ current: undefined, moveNext: undefined };\r\n        x.moveNext = function (): boolean {\r\n            if (wrapped.moveNext()) {\r\n                x.current = wrapped.current;\r\n                return true;\r\n            }\r\n            x.current = undefined;\r\n            return false;\r\n        };\r\n        return x;\r\n    }\r\n}\r\nvar ex = exjs.en;","/// <reference path=\"enumerable.ts\" />\r\n\r\nmodule exjs {\r\n    function zipEnumerator<T, TSecond, TResult>(prev: IEnumerable<T>, second: IEnumerable<TSecond>, resultSelector: (f: T, s: TSecond) => TResult): IEnumerator<TResult> {\r\n        var s: IEnumerator<T>;\r\n        var t: IEnumerator<TSecond>;\r\n        var e = {\r\n            current: undefined,\r\n            moveNext: function (): boolean {\r\n                if (!s) s = prev.getEnumerator();\r\n                if (!t) t = second.getEnumerator();\r\n                e.current = undefined;\r\n                if (!s.moveNext() || !t.moveNext())\r\n                    return false;\r\n                e.current = resultSelector(s.current, t.current);\r\n                return true;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    Enumerable.prototype.zip = function<T, TSecond,TResult>(second: any, resultSelector: (f: T, s: TSecond) => TResult): IEnumerableEx<TResult> {\r\n        var en: IEnumerable<TSecond> = second instanceof Array ? second.en() : second;\r\n        var e = new Enumerable<TResult>();\r\n        e.getEnumerator = () => zipEnumerator<T, TSecond, TResult>(<IEnumerable<T>>this, en, resultSelector);\r\n        return e;\r\n    };\r\n    if (List)\r\n        List.prototype.zip = Enumerable.prototype.zip;\r\n}"],"sourceRoot":"/source/"}